{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/auth/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/auth/Register.vue","mtime":1587899242304},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9uc30gZnJvbSAndnVleCc7CmltcG9ydCB7cmVxdWlyZWQsIG1heExlbmd0aCwgbWluTGVuZ3RoLCBlbWFpbH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQge30gZnJvbSAnLi4vLi4vc3RvcmVzL21vZHVsZXMvYXV0aCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgICAgICBwaG9uZU51bWJlcjogJycsCiAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRpb25zOiB7CiAgICAgICAgZmlyc3ROYW1lOiB7cmVxdWlyZWR9LAogICAgICAgIGxhc3ROYW1lOiB7cmVxdWlyZWR9LAogICAgICAgIHBob25lTnVtYmVyOiB7cmVxdWlyZWQsIG1heExlbmd0aDogbWF4TGVuZ3RoKDEwKSwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMTApfSwKICAgICAgICBlbWFpbDoge3JlcXVpcmVkLCBlbWFpbH0sCiAgICAgICAgcGFzc3dvcmQ6IHtyZXF1aXJlZCwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoOCl9LAogICAgICAgIGNvbmZpcm1QYXNzd29yZDoge3JlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCg4KX0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoWydjbGVhck1lc3NhZ2UnLCAnYWRkTWVzc2FnZScsICdyZWdpc3RlckJ5RW1haWwnXSksCiAgICAgICAgcmVnaXN0ZXJCeUVtYWlsTG9jYWwoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9IHRoaXMuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIk9vcHMgUGFzc3dvcmQgVmFsaWRhdGlvbiBGYWlsZWQsUGxlYXNlIGVudGVyIHRoZSByaWdodCBlbWFpbCBhZGRyZXNzIGluIGJvdGggdGhlIGVtYWlsIGFuZCBjb25maXJtIGVtYWlsIGlucHV0IGJveGVzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJkYW5nZXIiLAogICAgICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZmlyc3ROYW1lLnRyaW0oKSArICcgJyArIHRoaXMubGFzdE5hbWUudHJpbSgpLAogICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZS50cmltKCksCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogdGhpcy5sYXN0TmFtZS50cmltKCksCiAgICAgICAgICAgICAgICB0ZWxOdW06IHRoaXMucGhvbmVOdW1iZXIKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgdGhpcy5yZWdpc3RlckJ5RW1haWwoZGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZSgpOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdzdG9yZSd9KTsKICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVnaXN0ZXIgZXJyb3InLCBlcnJvcik7CiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJkYW5nZXIiLAogICAgICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"col-md-6 offset-md-3 col-sm-10 offset-sm-1\">\n            <form id=\"register-form\" role=\"form\">\n                <h3 class=\"text-center\">Register</h3>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.firstName.$error }\">\n                    <label for=\"firstName\">First Name</label>\n                    <input type=\"text\" required=\"required\" name=\"email\" id=\"firstName\" class=\"form-control mb-3\"\n                           placeholder=\"First Name\"\n                           value=\"\"\n                           v-model=\"firstName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.firstName.required\">First Name is required</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.lastName.$error }\">\n                    <label for=\"lastName\">Last Name</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"lastName\" class=\"form-control mb-3\"\n                           placeholder=\"Last Name\"\n                           value=\"\"\n                           v-model=\"lastName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.lastName.required\">Last Name is required</div>\n\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.phoneNumber.$error }\">\n                    <label for=\"phoneNumber\">Phone Number</label>\n                    <input type=\"number\" required=\"required\" name=\"email\" id=\"phoneNumber\" class=\"form-control mb-3\"\n                           placeholder=\"Telephone Number\"\n                           value=\"\"\n                           v-model=\"phoneNumber\">\n                    <div class=\"error text-danger\" v-if=\"!$v.phoneNumber.required\">Phone Number is required</div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"email\" class=\"form-control mb-3\"\n                           placeholder=\"Email Address\"\n                           value=\"\"\n                           v-model=\"email\">\n                    <div class=\"error text-danger\" v-if=\"!$v.email.required\">Email Address is required</div>\n                    <div class=\"error text-danger\" v-if=\"!$v.email.email\">Please enter a valid email address.</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.password.$error }\">\n                    <label for=\"password\">Password</label>\n                    <input type=\"password\" required=\"required\" name=\"password\" id=\"password\" class=\"form-control mb-3\"\n                           placeholder=\"Password\"\n                           v-model=\"password\">\n                    <div class=\"error text-danger\" v-if=\"!$v.password.required\">Please enter a password.</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.confirmPassword.$error }\">\n                    <label for=\"confirmPassword\">Password</label>\n                    <input type=\"password\" required=\"required\" name=\"password\" id=\"confirmPassword\"\n                           class=\"form-control mb-3\"\n                           placeholder=\"Password\"\n                           v-model=\"confirmPassword\">\n                    <div class=\"error text-danger\" v-if=\"!$v.confirmPassword.required\">Please enter a password.</div>\n                </div>\n                <div class=\"form-group\">\n                    <button class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"registerByEmailLocal\"\n                            :disabled=\"isLoading\">\n                        <i v-if=\"isLoading\" class=\"fa fa-spinner fa-spin\"/>\n                        Register\n                    </button>\n                </div>\n                <div class=\"form-group\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"text-center\">\n                                <router-link to=\"/login\"><a>Login</a></router-link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions} from 'vuex';\n    import {required, maxLength, minLength, email} from 'vuelidate/lib/validators'\n    import {} from '../../stores/modules/auth'\n\n    export default {\n        data() {\n            return {\n                firstName: '',\n                lastName: '',\n                phoneNumber: '',\n                email: '',\n                password: '',\n                isLoading: false,\n                confirmPassword: ''\n            }\n        },\n        validations: {\n            firstName: {required},\n            lastName: {required},\n            phoneNumber: {required, maxLength: maxLength(10), minLength: minLength(10)},\n            email: {required, email},\n            password: {required, minLength: minLength(8)},\n            confirmPassword: {required, minLength: minLength(8)},\n        },\n        methods: {\n            ...mapActions(['clearMessage', 'addMessage', 'registerByEmail']),\n            registerByEmailLocal() {\n                if (this.password != this.confirmPassword) {\n                    let message_obj = {\n                        message: \"Oops Password Validation Failed,Please enter the right email address in both the email and confirm email input boxes\",\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                    this.isLoading = false\n                    return\n                }\n\n                this.isLoading = true\n                let data = {\n                    email: this.email,\n                    password: this.password,\n                    displayName: this.firstName.trim() + ' ' + this.lastName.trim(),\n                    firstName: this.firstName.trim(),\n                    lastName: this.lastName.trim(),\n                    telNum: this.phoneNumber\n                }\n                console.log(data);\n                this.registerByEmail(data).then(() => {\n                    this.clearMessage();\n                    this.$router.push({name: 'store'});\n                }).catch((error) => {\n                    // console.log('register error', error);\n                    let message_obj = {\n                        message: error.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                }).then(() => {\n                    this.isLoading = false\n                })\n            }\n        }\n    }\n</script>\n"]}]}