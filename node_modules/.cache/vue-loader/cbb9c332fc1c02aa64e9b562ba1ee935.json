{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/UserProfile.vue","mtime":1588147993276},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucywgbWFwR2V0dGVyc30gZnJvbSAndnVleCc7CmltcG9ydCB7cmVxdWlyZWQsIG1heExlbmd0aCwgbWluTGVuZ3RoLCBlbWFpbH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJzsKaW1wb3J0IEdyaWRMb2FkZXIgZnJvbSAndnVlLXNwaW5uZXIvc3JjL0dyaWRMb2FkZXIudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9hZGVyQ29sb3I6ICIjNWNiODVjIiwKICAgICAgICAgICAgbG9hZGVyU2l6ZTogIjUwcHgiLAogICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRpb25zOiB7CiAgICAgICAgdXNlcjogewogICAgICAgICAgICBmaXJzdE5hbWU6IHtyZXF1aXJlZH0sCiAgICAgICAgICAgIGxhc3ROYW1lOiB7cmVxdWlyZWR9LAogICAgICAgICAgICB0ZWxOdW1iZXI6IHtyZXF1aXJlZCwgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMTApLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCgxMCl9LAogICAgICAgICAgICBlbWFpbDoge3JlcXVpcmVkLCBlbWFpbH0sCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ3VzZXInLCAnaXNVc2VyTG9hZGluZyddKSwKICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgR3JpZExvYWRlcgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsnY2xlYXJNZXNzYWdlJywgJ2FkZE1lc3NhZ2UnLCAndXBkYXRlVXNlcicsICdnZXRVc2VyJ10pLAogICAgICAgIHVwZGF0ZVVzZXJMb2NhbCgpIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcikKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdGhpcy51c2VyLmZpcnN0TmFtZSArJyAnICsgdGhpcy5sYXN0TmFtZSwKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy51c2VyLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLnVzZXIubGFzdE5hbWUsCiAgICAgICAgICAgICAgICB0ZWxOdW1iZXI6IHRoaXMudXNlci50ZWxOdW1iZXIsCiAgICAgICAgICAgICAgICB1aWQ6IHRoaXMudXNlci51aWQKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyKGRhdGEpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jbGVhck1lc3NhZ2UoKTsKICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlX29iaiA9IHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiRGV0YWlscyBVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgYXV0b0Nsb3NlOiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZV9vYmopOwoKICAgICAgICAgICAgICAgIC8vdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdzdG9yZSd9KTsKICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVnaXN0ZXIgZXJyb3InLCBlcnJvcik7CiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJkYW5nZXIiLAogICAgICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserProfile.vue","sourceRoot":"src/components/settings","sourcesContent":["<template>\n    <div class=\"row\">\n        <div v-if=\"isUserLoading\" class=\"w-100\">\n            <grid-loader :loading=\"isUserLoading\" :color=\"loaderColor\"\n                         :size=\"loaderSize\"></grid-loader>\n        </div>\n        <div v-if=\"!isUserLoading\" class=\"col-md-6 offset-md-3 col-sm-10 offset-sm-1\">\n            <form id=\"register-form\" role=\"form\">\n                <h3 class=\"text-center\">User Details</h3>\n                <div class=\"form-group\">\n                    <label for=\"firstName\">First Name</label>\n                    <input type=\"text\" required=\"required\" name=\"email\" id=\"firstName\" class=\"form-control mb-3\"\n                           placeholder=\"First Name\"\n                           value=\"\"\n                           v-model=\"user.firstName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.firstName.required\">First Name is required</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.lastName.$error }\">\n                    <label for=\"lastName\">Last Name</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"lastName\" class=\"form-control mb-3\"\n                           placeholder=\"Last Name\"\n                           value=\"\"\n                           v-model=\"user.lastName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.lastName.required\">Last Name is required</div>\n\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.telNumber.$error }\">\n                    <label for=\"phoneNumber\">Phone Number</label>\n                    <input type=\"number\" required=\"required\" name=\"email\" id=\"phoneNumber\" class=\"form-control mb-3\"\n                           placeholder=\"Telephone Number\"\n                           value=\"\"\n                           v-model=\"user.telNumber\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.telNumber.required\">Phone Number is required</div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"email\" class=\"form-control mb-3\"\n                           placeholder=\"Email Address\"\n                           value=\"\"\n                           disabled=\"disabled\"\n                           v-model=\"user.email\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.required\">Email Address is required</div>\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.email\">Please enter a valid email address.</div>\n                </div>\n                <div class=\"form-group\">\n                    <button class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"updateUserLocal\"\n                            :disabled=\"isLoading\">\n                        <i v-if=\"isLoading\" class=\"fa fa-spinner fa-spin\"/>\n                        Update\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions, mapGetters} from 'vuex';\n    import {required, maxLength, minLength, email} from 'vuelidate/lib/validators';\n    import GridLoader from 'vue-spinner/src/GridLoader.vue';\n\n    export default {\n        data() {\n            return {\n                loaderColor: \"#5cb85c\",\n                loaderSize: \"50px\",\n                isLoading: false\n            }\n        },\n        validations: {\n            user: {\n                firstName: {required},\n                lastName: {required},\n                telNumber: {required, maxLength: maxLength(10), minLength: minLength(10)},\n                email: {required, email},\n            }\n        },\n        computed: {\n            ...mapGetters(['user', 'isUserLoading']),\n        },\n        components: {\n            GridLoader\n        },\n        methods: {\n            ...mapActions(['clearMessage', 'addMessage', 'updateUser', 'getUser']),\n            updateUserLocal() {\n                this.isLoading = true\n                console.log(this.user)\n                let data = {\n                    displayName: this.user.firstName +' ' + this.lastName,\n                    firstName: this.user.firstName,\n                    lastName: this.user.lastName,\n                    telNumber: this.user.telNumber,\n                    uid: this.user.uid\n                }\n                console.log(data);\n                this.updateUser(data).then(() => {\n                    this.clearMessage();\n                    let message_obj = {\n                        message: \"Details Updated Successfully\",\n                        messageClass: \"success\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n\n                    //this.$router.push({name: 'store'});\n                }).catch((error) => {\n                    // console.log('register error', error);\n                    let message_obj = {\n                        message: error.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                }).then(() => {\n                    this.isLoading = false\n                })\n            }\n        }\n    }\n</script>\n"]}]}