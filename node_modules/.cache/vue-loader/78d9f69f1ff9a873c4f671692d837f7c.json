{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/Address.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/Address.vue","mtime":1587899242305},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWF4TGVuZ3RoLCBtaW5MZW5ndGgsIHJlcXVpcmVkfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQge21hcEFjdGlvbnMsIG1hcEdldHRlcnN9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkFkZHJlc3MiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkZWxpdmVyeUFkZHJlc3M6IHsKICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6ICIiLAogICAgICAgICAgICAgICAgc3VidXJiOiAiIiwKICAgICAgICAgICAgICAgIHByb3ZpbmNlOiAiIiwKICAgICAgICAgICAgICAgIGNpdHk6ICIiLAogICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogIiIsCgogICAgICAgICAgICB9LAogICAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0aW9uczogewogICAgICAgIGRlbGl2ZXJ5QWRkcmVzczogewogICAgICAgICAgICBzdHJlZXRBZGRyZXNzOiB7cmVxdWlyZWR9LAogICAgICAgICAgICBzdWJ1cmI6IHtyZXF1aXJlZH0sCiAgICAgICAgICAgIHByb3ZpbmNlOiB7cmVxdWlyZWR9LAogICAgICAgICAgICBjaXR5OiB7cmVxdWlyZWR9LAogICAgICAgICAgICBwb3N0YWxDb2RlOiB7cmVxdWlyZWQsIG1heExlbmd0aDogbWF4TGVuZ3RoKDQpLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KX0sCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ3VzZXInXSksCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoWydzYXZlQWRkcmVzcycsICdlZGl0QWRkcmVzc0J5QWRkcmVzc0lEJywnYWRkTWVzc2FnZSddKSwKICAgICAgICBzYXZlQWRkcmVzc0xvY2FsKCkgewogICAgICAgICAgICB0aGlzLnNhdmVBZGRyZXNzKHt1aWQ6IHRoaXMudXNlci51aWQsIGFkZHJlc3NPYmplY3Q6IHRoaXMuZGVsaXZlcnlBZGRyZXNzfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIHRoaXMuZGVsaXZlcnlBZGRyZXNzID0ge30KICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlX29iaiA9IHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQWRkcmVzcyBBZGRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDbGFzczogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHVwZGF0ZUFkZHJlc3NMb2NhbCgpIHsKICAgICAgICAgICAgdGhpcy5lZGl0QWRkcmVzc0J5QWRkcmVzc0lEKHt1aWQ6IHRoaXMudXNlci51aWQsIGFkZHJlc3M6IHRoaXMuZGVsaXZlcnlBZGRyZXNzfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQoKICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlX29iaiA9IHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQWRkcmVzcyBVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgYXV0b0Nsb3NlOiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZV9vYmopOwogICAgICAgICAgICB9KQogICAgICAgIH0KCiAgICB9LAogICAgcHJvcHM6IFsKICAgICAgICAnYWRkcmVzcycsICdpc0VkaXQnLCdjYWxsTWV0aG9kJwogICAgXSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMuYWRkcmVzcykKICAgICAgICAgICAgdGhpcy5kZWxpdmVyeUFkZHJlc3MgPSB0aGlzLmFkZHJlc3M7CiAgICB9Cn0K"},{"version":3,"sources":["Address.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Address.vue","sourceRoot":"src/components/settings","sourcesContent":["<template>\n    <div class=\"col-md-6 offset-md-3 col-sm-10 offset-sm-1\">\n        <form id=\"register-form\" role=\"form\">\n            <h3 class=\"text-center\">Address Details</h3>\n            <div class=\"form-group\" :class=\"{ 'form-group--error': $v.deliveryAddress.streetAddress.$error }\">\n                <label for=\"streetAddress\">Street Address</label>\n                <input type=\"text\" required=\"required\" name=\"streetAddress\" id=\"streetAddress\" class=\"form-control mb-3\"\n                       placeholder=\"Street Address\"\n                       value=\"\"\n                       v-model=\"deliveryAddress.streetAddress\">\n                <div class=\"error text-danger\" v-if=\"!$v.deliveryAddress.streetAddress.required\">Delivery Address is\n                    required\n                </div>\n            </div>\n            <div class=\"form-group\" :class=\"{ 'form-group--error': $v.deliveryAddress.suburb.$error }\">\n                <label for=\"suburb\">Suburb</label>\n                <input type=\"text\" required=\"required\" name=\"suburb\" id=\"suburb\" class=\"form-control mb-3\"\n                       placeholder=\"Suburb\"\n                       value=\"\"\n                       v-model=\"deliveryAddress.suburb\">\n                <div class=\"error text-danger\" v-if=\"!$v.deliveryAddress.suburb.required\">Suburb is required</div>\n            </div>\n            <div class=\"form-group\" :class=\"{ 'form-group--error': $v.deliveryAddress.city.$error }\">\n                <label for=\"city\">City/Town</label>\n                <input type=\"email\" required=\"required\" name=\"city\" id=\"city\" class=\"form-control mb-3\"\n                       placeholder=\"Last Name\"\n                       value=\"\"\n                       v-model=\"deliveryAddress.city\">\n                <div class=\"error text-danger\" v-if=\"!$v.deliveryAddress.city.required\">City/Town Name is required</div>\n            </div>\n            <div class=\"form-group\" :class=\"{ 'form-group--error': $v.deliveryAddress.province.$error }\">\n                <label for=\"city\">Province</label>\n                <input type=\"email\" required=\"required\" name=\"city\" id=\"province\" class=\"form-control mb-3\"\n                       placeholder=\"Province\"\n                       value=\"\"\n                       v-model=\"deliveryAddress.province\">\n                <div class=\"error text-danger\" v-if=\"!$v.deliveryAddress.province.required\">Last Name is required</div>\n            </div>\n            <div class=\"form-group\" :class=\"{ 'form-group--error': $v.deliveryAddress.postalCode.$error }\">\n                <label for=\"postalCode\">Postal Code</label>\n                <input type=\"number\" required=\"required\" name=\"postalCode\" id=\"postalCode\" class=\"form-control mb-3\"\n                       placeholder=\"Postal Code\"\n                       value=\"\"\n                       v-model=\"deliveryAddress.postalCode\">\n                <div class=\"error text-danger\" v-if=\"!$v.deliveryAddress.postalCode.required\">Postal Code Needs to be 4\n                    Digits long\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <button v-if=\"!isEdit\" class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"saveAddressLocal\"\n                        :disabled=\"false\">\n                    <i v-if=\"false\" class=\"fa fa-spinner fa-spin\"/>\n                    Add Address\n                </button>\n            </div>\n            <div class=\"form-group\">\n                <button v-if=\"isEdit\" class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"updateAddressLocal\"\n                        :disabled=\"false\">\n                    <i v-if=\"false\" class=\"fa fa-spinner fa-spin\"/>\n                    Update Address\n                </button>\n            </div>\n\n        </form>\n    </div>\n</template>\n\n<script>\n    import {maxLength, minLength, required} from \"vuelidate/lib/validators\";\n    import {mapActions, mapGetters} from \"vuex\";\n\n    export default {\n        name: \"Address\",\n        data() {\n            return {\n                deliveryAddress: {\n                    streetAddress: \"\",\n                    suburb: \"\",\n                    province: \"\",\n                    city: \"\",\n                    postalCode: \"\",\n\n                },\n            }\n        },\n        validations: {\n            deliveryAddress: {\n                streetAddress: {required},\n                suburb: {required},\n                province: {required},\n                city: {required},\n                postalCode: {required, maxLength: maxLength(4), minLength: minLength(4)},\n            }\n        },\n        computed: {\n            ...mapGetters(['user']),\n        },\n        methods: {\n            ...mapActions(['saveAddress', 'editAddressByAddressID','addMessage']),\n            saveAddressLocal() {\n                this.saveAddress({uid: this.user.uid, addressObject: this.deliveryAddress}).then(res => {\n                    console.log(res);\n                    this.deliveryAddress = {}\n                    let message_obj = {\n                        message: \"Address Added Successfully\",\n                        messageClass: \"success\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                })\n            },\n            updateAddressLocal() {\n                this.editAddressByAddressID({uid: this.user.uid, address: this.deliveryAddress}).then(res => {\n                    console.log(res)\n\n                    let message_obj = {\n                        message: \"Address Updated Successfully\",\n                        messageClass: \"success\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                })\n            }\n\n        },\n        props: [\n            'address', 'isEdit','callMethod'\n        ],\n        created() {\n            if (this.address)\n                this.deliveryAddress = this.address;\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}