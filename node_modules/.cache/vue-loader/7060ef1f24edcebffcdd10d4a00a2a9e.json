{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/AddressBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/AddressBook.vue","mtime":1587899242305},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGRyZXNzIGZyb20gIi4vQWRkcmVzcyI7CmltcG9ydCB7bWFwQWN0aW9ucywgbWFwR2V0dGVyc30gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQWRkcmVzc0Jvb2siLAogICAgY29tcG9uZW50czoge0FkZHJlc3N9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKFsnYWRkcmVzc2VzJywgJ3VzZXInLCAnaXNBZGRyZXNzZXNMb2FkaW5nJ10pCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoWydnZXRBZGRyZXNzZXMnLCAnZGVsZXRlQWRkcmVzcyddKSwKICAgICAgICBkZWxldGVBZGRyZXNzTG9jYWwoYWRkcmVzcykgewogICAgICAgICAgICB0aGlzLiRidk1vZGFsLnNob3coJ21vZGFsLWRlbGV0ZUNvbmZpcm1hdGlvbicpCiAgICAgICAgICAgIHRoaXMudG9EZWxldGUgPSBhZGRyZXNzOwogICAgICAgICAgICBsZXQgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkFkZHJlc3MgRGVsZXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZV9vYmopOwogICAgICAgIH0sCiAgICAgICAgY29uZmlybURlbGV0ZSgpIHsKICAgICAgICAgICAgdGhpcy5kZWxldGVBZGRyZXNzKHt1aWQ6IHRoaXMudXNlci51aWQsIGFkZHJlc3M6IHRoaXMudG9EZWxldGV9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRvRGVsZXRlID0ge307CiAgICAgICAgICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ21vZGFsLWRlbGV0ZUNvbmZpcm1hdGlvbicpCiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYWRkTWVzc2FnZShtZXNzYWdlX29iaik7CiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldEFkZHJlc3Nlcyh0aGlzLnVzZXIudWlkKTsKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRvRGVsZXRlOiB7fSwKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["AddressBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddressBook.vue","sourceRoot":"src/components/settings","sourcesContent":["<template>\n    <div v-if=\"isAddressesLoading\" class=\"w-100\">\n        <grid-loader :loading=\"isAddressesLoading\"></grid-loader>\n    </div>\n    <div v-else class=\"\">\n        <div class=\"tablist\">\n            <h3 class=\"text-center pb-2\">Address Book</h3>\n            <b-card no-body class=\"mb-1\">\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                    <b-button block href=\"#\" v-b-toggle.accordion-new variant=\"info\">Add New Address\n                        <b-icon @click=\"deleteAddressLocal(addr)\" icon=\" plus-square\"\n                                class=\"pl-1 danger grow\"></b-icon>\n                    </b-button>\n                </b-card-header>\n                <b-collapse id=\"accordion-new\" accordion=\"my-accordion\" role=\"tabpanel\">\n                    <b-card-body>\n                        <Address :isEdit=\"false\"></Address>\n                    </b-card-body>\n                </b-collapse>\n            </b-card>\n            <b-card no-body class=\"mb-1\" v-for=\"addr in addresses\" :key=\"addr\">\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                    <b-button block href=\"#\" v-b-toggle=\"'accordion-'+ addr.id\" variant=\"info\">{{addr.streetAddress}}\n                        <b-icon @click=\"deleteAddressLocal(addr)\" icon=\"x-square-fill\"\n                                class=\"danger move-right grow\"></b-icon>\n                    </b-button>\n                </b-card-header>\n                <b-collapse :id=\"'accordion-'+addr.id\" accordion=\"my-accordion\" variant=\"danger\" role=\"tabpanel\">\n                    <b-card-body>\n                        <Address :isEdit=\"true\" :address=\"addr\"></Address>\n                    </b-card-body>\n                </b-collapse>\n            </b-card>\n\n            <div>\n                <b-modal id=\"modal-deleteConfirmation\" hide-footer>\n                    <template v-slot:modal-title>\n                        Address Delete Confirmation\n                    </template>\n                    <div class=\"d-block text-center\">\n                        <p>Are you sure you want to delete address {{toDelete.streetAddress}}</p>\n                    </div>\n                    <b-button class=\"mt-3 alert-danger\" block @click=\"confirmDelete()\">Delete</b-button>\n                    <b-button class=\"mt-3 alert-light\" block @click=\"$bvModal.hide('modal-deleteConfirmation')\">Cancel\n                    </b-button>\n                </b-modal>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Address from \"./Address\";\n    import {mapActions, mapGetters} from \"vuex\";\n\n    export default {\n        name: \"AddressBook\",\n        components: {Address},\n        computed: {\n            ...mapGetters(['addresses', 'user', 'isAddressesLoading'])\n        },\n        methods: {\n            ...mapActions(['getAddresses', 'deleteAddress']),\n            deleteAddressLocal(address) {\n                this.$bvModal.show('modal-deleteConfirmation')\n                this.toDelete = address;\n                let message_obj = {\n                        message: \"Address Deleted Successfully\",\n                    messageClass: \"success\",\n                    autoClose: true\n                }\n                this.addMessage(message_obj);\n            },\n            confirmDelete() {\n                this.deleteAddress({uid: this.user.uid, address: this.toDelete}).then(res => {\n                    this.toDelete = {};\n                    this.$bvModal.hide('modal-deleteConfirmation')\n                    let message_obj = {\n                        message: res.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                })\n\n            },\n        },\n        created() {\n            this.getAddresses(this.user.uid);\n        },\n        data() {\n            return {\n                toDelete: {},\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .move-right {\n        position: absolute;\n        right: 15px;\n    }\n\n    .grow {\n        transition: all .2s ease-in-out;\n    }\n\n    .grow:hover {\n        transform: scale(1.3);\n    }\n</style>\n"]}]}