{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/AddressBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/AddressBook.vue","mtime":1587899242305},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3N0aGVtYmlzb21hc2hpeWFuZS9XZWJzdG9ybVByb2plY3RzL2RyaXB5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBZGRyZXNzIGZyb20gIi4vQWRkcmVzcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRyZXNzQm9vayIsCiAgY29tcG9uZW50czogewogICAgQWRkcmVzczogQWRkcmVzcwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydhZGRyZXNzZXMnLCAndXNlcicsICdpc0FkZHJlc3Nlc0xvYWRpbmcnXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydnZXRBZGRyZXNzZXMnLCAnZGVsZXRlQWRkcmVzcyddKSwgewogICAgZGVsZXRlQWRkcmVzc0xvY2FsOiBmdW5jdGlvbiBkZWxldGVBZGRyZXNzTG9jYWwoYWRkcmVzcykgewogICAgICB0aGlzLiRidk1vZGFsLnNob3coJ21vZGFsLWRlbGV0ZUNvbmZpcm1hdGlvbicpOwogICAgICB0aGlzLnRvRGVsZXRlID0gYWRkcmVzczsKICAgICAgdmFyIG1lc3NhZ2Vfb2JqID0gewogICAgICAgIG1lc3NhZ2U6ICJBZGRyZXNzIERlbGV0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICBtZXNzYWdlQ2xhc3M6ICJzdWNjZXNzIiwKICAgICAgICBhdXRvQ2xvc2U6IHRydWUKICAgICAgfTsKICAgICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgIH0sCiAgICBjb25maXJtRGVsZXRlOiBmdW5jdGlvbiBjb25maXJtRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kZWxldGVBZGRyZXNzKHsKICAgICAgICB1aWQ6IHRoaXMudXNlci51aWQsCiAgICAgICAgYWRkcmVzczogdGhpcy50b0RlbGV0ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy50b0RlbGV0ZSA9IHt9OwoKICAgICAgICBfdGhpcy4kYnZNb2RhbC5oaWRlKCdtb2RhbC1kZWxldGVDb25maXJtYXRpb24nKTsKCiAgICAgICAgdmFyIG1lc3NhZ2Vfb2JqID0gewogICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJkYW5nZXIiLAogICAgICAgICAgYXV0b0Nsb3NlOiB0cnVlCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMuYWRkTWVzc2FnZShtZXNzYWdlX29iaik7CiAgICAgIH0pOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFkZHJlc3Nlcyh0aGlzLnVzZXIudWlkKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b0RlbGV0ZToge30KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["AddressBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,OAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,MAAA,EAAA,oBAAA,CAAA,CADA,CAHA;AAMA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,eAAA,CAAA,CADA;AAEA,IAAA,kBAFA,8BAEA,OAFA,EAEA;AACA,WAAA,QAAA,CAAA,IAAA,CAAA,0BAAA;AACA,WAAA,QAAA,GAAA,OAAA;AACA,UAAA,WAAA,GAAA;AACA,QAAA,OAAA,EAAA,8BADA;AAEA,QAAA,YAAA,EAAA,SAFA;AAGA,QAAA,SAAA,EAAA;AAHA,OAAA;AAKA,WAAA,UAAA,CAAA,WAAA;AACA,KAXA;AAYA,IAAA,aAZA,2BAYA;AAAA;;AACA,WAAA,aAAA,CAAA;AAAA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GAAA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,EAAA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,0BAAA;;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA,GAAA,CAAA,OADA;AAEA,UAAA,YAAA,EAAA,QAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,KAAA,CAAA,UAAA,CAAA,WAAA;AACA,OATA;AAWA;AAxBA,IANA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,SAAA,YAAA,CAAA,KAAA,IAAA,CAAA,GAAA;AACA,GAlCA;AAmCA,EAAA,IAnCA,kBAmCA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA;AAvCA,CAAA","sourcesContent":["<template>\n    <div v-if=\"isAddressesLoading\" class=\"w-100\">\n        <grid-loader :loading=\"isAddressesLoading\"></grid-loader>\n    </div>\n    <div v-else class=\"\">\n        <div class=\"tablist\">\n            <h3 class=\"text-center pb-2\">Address Book</h3>\n            <b-card no-body class=\"mb-1\">\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                    <b-button block href=\"#\" v-b-toggle.accordion-new variant=\"info\">Add New Address\n                        <b-icon @click=\"deleteAddressLocal(addr)\" icon=\" plus-square\"\n                                class=\"pl-1 danger grow\"></b-icon>\n                    </b-button>\n                </b-card-header>\n                <b-collapse id=\"accordion-new\" accordion=\"my-accordion\" role=\"tabpanel\">\n                    <b-card-body>\n                        <Address :isEdit=\"false\"></Address>\n                    </b-card-body>\n                </b-collapse>\n            </b-card>\n            <b-card no-body class=\"mb-1\" v-for=\"addr in addresses\" :key=\"addr\">\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                    <b-button block href=\"#\" v-b-toggle=\"'accordion-'+ addr.id\" variant=\"info\">{{addr.streetAddress}}\n                        <b-icon @click=\"deleteAddressLocal(addr)\" icon=\"x-square-fill\"\n                                class=\"danger move-right grow\"></b-icon>\n                    </b-button>\n                </b-card-header>\n                <b-collapse :id=\"'accordion-'+addr.id\" accordion=\"my-accordion\" variant=\"danger\" role=\"tabpanel\">\n                    <b-card-body>\n                        <Address :isEdit=\"true\" :address=\"addr\"></Address>\n                    </b-card-body>\n                </b-collapse>\n            </b-card>\n\n            <div>\n                <b-modal id=\"modal-deleteConfirmation\" hide-footer>\n                    <template v-slot:modal-title>\n                        Address Delete Confirmation\n                    </template>\n                    <div class=\"d-block text-center\">\n                        <p>Are you sure you want to delete address {{toDelete.streetAddress}}</p>\n                    </div>\n                    <b-button class=\"mt-3 alert-danger\" block @click=\"confirmDelete()\">Delete</b-button>\n                    <b-button class=\"mt-3 alert-light\" block @click=\"$bvModal.hide('modal-deleteConfirmation')\">Cancel\n                    </b-button>\n                </b-modal>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Address from \"./Address\";\n    import {mapActions, mapGetters} from \"vuex\";\n\n    export default {\n        name: \"AddressBook\",\n        components: {Address},\n        computed: {\n            ...mapGetters(['addresses', 'user', 'isAddressesLoading'])\n        },\n        methods: {\n            ...mapActions(['getAddresses', 'deleteAddress']),\n            deleteAddressLocal(address) {\n                this.$bvModal.show('modal-deleteConfirmation')\n                this.toDelete = address;\n                let message_obj = {\n                        message: \"Address Deleted Successfully\",\n                    messageClass: \"success\",\n                    autoClose: true\n                }\n                this.addMessage(message_obj);\n            },\n            confirmDelete() {\n                this.deleteAddress({uid: this.user.uid, address: this.toDelete}).then(res => {\n                    this.toDelete = {};\n                    this.$bvModal.hide('modal-deleteConfirmation')\n                    let message_obj = {\n                        message: res.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                })\n\n            },\n        },\n        created() {\n            this.getAddresses(this.user.uid);\n        },\n        data() {\n            return {\n                toDelete: {},\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .move-right {\n        position: absolute;\n        right: 15px;\n    }\n\n    .grow {\n        transition: all .2s ease-in-out;\n    }\n\n    .grow:hover {\n        transform: scale(1.3);\n    }\n</style>\n"],"sourceRoot":"src/components/settings"}]}