{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js??ref--13-0!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/actions.js","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/actions.js","mtime":1587546461328},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zdGhlbWJpc29tYXNoaXlhbmUvV2Vic3Rvcm1Qcm9qZWN0cy92dWVqcy1maXJlYmFzZS1zaG9wcGluZy1jYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBmaXJlYmFzZUF1dGgsIGRiIH0gZnJvbSAiLi4vY29uZmlnL2ZpcmViYXNlQ29uZmlnIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwpleHBvcnQgdmFyIHVwZGF0ZUNhcnQgPSBmdW5jdGlvbiB1cGRhdGVDYXJ0KF9yZWYsIF9yZWYyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogIHZhciBpdGVtID0gX3JlZjIuaXRlbSwKICAgICAgcXVhbnRpdHkgPSBfcmVmMi5xdWFudGl0eSwKICAgICAgaXNBZGQgPSBfcmVmMi5pc0FkZDsKICAvLyBUT0RPOiBDYWxsIHNlcnZpY2UKICBjb21taXQoJ1VQREFURV9DQVJUJywgewogICAgaXRlbTogaXRlbSwKICAgIHF1YW50aXR5OiBxdWFudGl0eSwKICAgIGlzQWRkOiBpc0FkZAogIH0pOwoKICBpZiAoaXNBZGQpIHsKICAgIHZhciBtZXNzYWdlX29iaiA9IHsKICAgICAgbWVzc2FnZTogIkFkZCAiLmNvbmNhdChpdGVtLnRpdGxlLCAiIHRvIGNhcnQgc3VjY2Vzc2Z1bGx5IiksCiAgICAgIG1lc3NhZ2VDbGFzczogInN1Y2Nlc3MiLAogICAgICBhdXRvQ2xvc2U6IHRydWUKICAgIH07CiAgICBjb21taXQoJ0FERF9NRVNTQUdFJywgbWVzc2FnZV9vYmopOwogIH0KfTsKZXhwb3J0IHZhciByZW1vdmVJdGVtSW5DYXJ0ID0gZnVuY3Rpb24gcmVtb3ZlSXRlbUluQ2FydChfcmVmMywgX3JlZjQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogIHZhciBpdGVtID0gX3JlZjQuaXRlbTsKICBjb21taXQoJ1JFTU9WRV9DQVJUX0lURU0nLCB7CiAgICBpdGVtOiBpdGVtCiAgfSk7Cn07CmV4cG9ydCB2YXIgcmVnaXN0ZXJCeUVtYWlsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWY1LCBfcmVmNikgewogICAgdmFyIGNvbW1pdCwgZW1haWwsIHBhc3N3b3JkLCBkaXNwbGF5TmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgdGVsTnVtOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICBlbWFpbCA9IF9yZWY2LmVtYWlsLCBwYXNzd29yZCA9IF9yZWY2LnBhc3N3b3JkLCBkaXNwbGF5TmFtZSA9IF9yZWY2LmRpc3BsYXlOYW1lLCBmaXJzdE5hbWUgPSBfcmVmNi5maXJzdE5hbWUsIGxhc3ROYW1lID0gX3JlZjYubGFzdE5hbWUsIHRlbE51bSA9IF9yZWY2LnRlbE51bTsKICAgICAgICAgICAgY29uc29sZS5sb2coY29tbWl0KTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gZmlyZWJhc2VBdXRoLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyIF9yZWY4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHJlcy51c2VyLnVpZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxOdW1iZXI6IHRlbE51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHJlcy51c2VyLnVpZAogICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHJlZ2lzdGVyQnlFbWFpbChfeCwgX3gyKSB7CiAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CmV4cG9ydCB2YXIgbG9naW5XaXRoR29vZ2xlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgdmFyIHByb3ZpZGVyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZmlyZWJhc2VBdXRoLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbihmdW5jdGlvbiBhc3luYyhyZXN1bHQpIHsKICAgICAgICAgICAgICB2YXIgdXNlciA9IHJlc3VsdC51c2VyOwogICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHVzZXIudWlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VyLnVpZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICAgICAgICAgICAgICB0ZWxOdW1iZXI6IHVzZXIucGhvbmVOdW1iZXIgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgdWlkOiB1c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICBhZGRlZEJ5R29vZ2xlQXV0aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiAnJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIGxvZ2luV2l0aEdvb2dsZSgpIHsKICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKZXhwb3J0IHZhciBsb2dvdXQgPSBmdW5jdGlvbiBsb2dvdXQoX3JlZjEwKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMC5jb21taXQ7CiAgY29tbWl0KCdTRVRfQ0FSVCcsIFtdKTsgLy8gY2xlYXIgY3VycmVudCBjYXJ0CgogIHJldHVybiBmaXJlYmFzZUF1dGguc2lnbk91dCgpOwp9OwpleHBvcnQgZnVuY3Rpb24gbG9naW5XaXRoRW1haWwoXywgX3JlZjExKSB7CiAgdmFyIGVtYWlsID0gX3JlZjExLmVtYWlsLAogICAgICBwYXNzd29yZCA9IF9yZWYxMS5wYXNzd29yZDsKICByZXR1cm4gZmlyZWJhc2VBdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGxpc3RlblRvUHJvZHVjdExpc3QoX3JlZjEyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMi5jb21taXQ7CiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oInByb2R1Y3RzIikub25TbmFwc2hvdChmdW5jdGlvbiAocHJvZHVjdHMpIHsKICAgIHZhciB0b1NlbmQgPSBbXTsKICAgIHByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdG9TZW5kLnB1c2goaXRlbS5kYXRhKCkpOwogICAgfSk7CiAgICBjb21taXQoJ1VQREFURV9QUk9EVUNUX0xJU1QnLCB0b1NlbmQpOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRTaG9wcGluZ0NhcnQoX3JlZjEzLCBfcmVmMTQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjEzLmNvbW1pdDsKICB2YXIgdWlkID0gX3JlZjE0LnVpZCwKICAgICAgY3VycmVudENhcnQgPSBfcmVmMTQuY3VycmVudENhcnQ7CgogIGlmICh1aWQpIHsKICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJjYXJ0IikuZG9jKHVpZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAoY2FydCkgewogICAgICBjb25zb2xlLmxvZyhjYXJ0LmRhdGEoKSk7CgogICAgICBpZiAoY2FydC5kYXRhKCkgJiYgKCFjdXJyZW50Q2FydCB8fCBjdXJyZW50Q2FydC5sZW5ndGggPT0gMCkpIHsKICAgICAgICBjb21taXQoJ1NFVF9DQVJUJywgY2FydC5kYXRhKCkucHJvZHVjdHMpOwogICAgICB9CiAgICB9KTsKICB9IGVsc2Ugey8vIGNvbnNvbGUubG9nKCJVc2VyIGhhcyBub3QgbG9nZ2VkIGluIik7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBzYXZlU2hvcHBpbmdDYXJ0KF8sIF9yZWYxNSkgewogIHZhciB1aWQgPSBfcmVmMTUudWlkLAogICAgICBjYXJ0SXRlbUxpc3QgPSBfcmVmMTUuY2FydEl0ZW1MaXN0OwogIC8vIGNvbnNvbGUubG9nKCJBQ1RJT05TIHNhdmVTaG9wcGluZ0NhcnQiKTsKICAvLyBjb25zb2xlLmxvZygiQ0FSVCBEQVRBIiwgY2FydEl0ZW1MaXN0KTsKICB2YXIgc2F2ZU9iamVjdCA9IHsKICAgIHByb2R1Y3RzOiBjYXJ0SXRlbUxpc3QsCiAgICB0aW1lc3RhbXA6IG1vbWVudCgpLnVuaXgoKSwKICAgIHVpZDogdWlkCiAgfTsKICByZXR1cm4gZGIuY29sbGVjdGlvbignY2FydCcpLmRvYyh1aWQpLnNldChzYXZlT2JqZWN0KTsKfSAvLyBOZWVkcyBTb21lIFRoaW5raW5nCgpleHBvcnQgZnVuY3Rpb24gc2F2ZVRvVHJhbnNhY3Rpb24oXywgX3JlZjE2KSB7CiAgdmFyIHVpZCA9IF9yZWYxNi51aWQsCiAgICAgIGNhcnRJdGVtTGlzdCA9IF9yZWYxNi5jYXJ0SXRlbUxpc3Q7CiAgLy8gbGV0IG5ld1RyYW5zYWN0aW9uS2V5ID0gbW9tZW50KCkudW5peCgpOwogIC8vIGRiLmNvbGxlY3Rpb24oJ3RyYW5zYWN0aW9ucycpLmRvYyh1aWQpLmNvbGxlY3Rpb24oKQogIC8vCiAgLy8gbGV0IG5ld1RyYW5zYWN0aW9uS2V5ID0gcmVmLmNoaWxkKCJ0cmFuc2FjdGlvbnMiKS5wdXNoKCkua2V5OwogIC8vIHZhciBuZXdUcmFuc2FjdGlvbiA9IHt9CiAgLy8gbmV3VHJhbnNhY3Rpb25bJy90cmFuc2FjdGlvbnMvJyArIHVpZCArICcvJyArIG5ld1RyYW5zYWN0aW9uS2V5XSA9IGNhcnRJdGVtTGlzdDsKICAvLyByZXR1cm4gcmVmLnVwZGF0ZShuZXdUcmFuc2FjdGlvbik7CiAgY29uc29sZS5sb2codWlkKTsKICBjb25zb2xlLmxvZyhjYXJ0SXRlbUxpc3QpOwp9"},{"version":3,"sources":["/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/actions.js"],"names":["firebaseAuth","db","moment","firebase","updateCart","commit","item","quantity","isAdd","message_obj","message","title","messageClass","autoClose","removeItemInCart","registerByEmail","email","password","displayName","firstName","lastName","telNum","console","log","createUserWithEmailAndPassword","then","res","collection","doc","user","uid","set","telNumber","catch","error","loginWithGoogle","provider","auth","GoogleAuthProvider","signInWithPopup","async","result","get","exists","phoneNumber","addedByGoogleAuth","logout","signOut","loginWithEmail","_","signInWithEmailAndPassword","listenToProductList","onSnapshot","products","toSend","forEach","push","data","getShoppingCart","currentCart","cart","length","saveShoppingCart","cartItemList","saveObject","timestamp","unix","saveToTransaction"],"mappings":";;;AAAA,SAAQA,YAAR,EAAsBC,EAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,cAEgC;AAAA,MAD3BC,MAC2B,QAD3BA,MAC2B;AAAA,MAA3BC,IAA2B,SAA3BA,IAA2B;AAAA,MAArBC,QAAqB,SAArBA,QAAqB;AAAA,MAAXC,KAAW,SAAXA,KAAW;AACtD;AACAH,EAAAA,MAAM,CAAC,aAAD,EAAgB;AAACC,IAAAA,IAAI,EAAJA,IAAD;AAAOC,IAAAA,QAAQ,EAARA,QAAP;AAAiBC,IAAAA,KAAK,EAALA;AAAjB,GAAhB,CAAN;;AACA,MAAIA,KAAJ,EAAW;AACP,QAAIC,WAAW,GAAG;AACdC,MAAAA,OAAO,gBAASJ,IAAI,CAACK,KAAd,0BADO;AAEdC,MAAAA,YAAY,EAAE,SAFA;AAGdC,MAAAA,SAAS,EAAE;AAHG,KAAlB;AAKAR,IAAAA,MAAM,CAAC,aAAD,EAAgBI,WAAhB,CAAN;AACH;AACJ,CAbM;AAeP,OAAO,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,eAAsB;AAAA,MAApBT,MAAoB,SAApBA,MAAoB;AAAA,MAAVC,IAAU,SAAVA,IAAU;AAClDD,EAAAA,MAAM,CAAC,kBAAD,EAAqB;AAACC,IAAAA,IAAI,EAAJA;AAAD,GAArB,CAAN;AACH,CAFM;AAIP,OAAO,IAAMS,eAAe;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQV,YAAAA,MAAR,SAAQA,MAAR;AAAkBW,YAAAA,KAAlB,SAAkBA,KAAlB,EAAyBC,QAAzB,SAAyBA,QAAzB,EAAmCC,WAAnC,SAAmCA,WAAnC,EAAgDC,SAAhD,SAAgDA,SAAhD,EAA2DC,QAA3D,SAA2DA,QAA3D,EAAqEC,MAArE,SAAqEA,MAArE;AAC3BC,YAAAA,OAAO,CAACC,GAAR,CAAYlB,MAAZ;AAD2B;AAAA,mBAErBL,YAAY,CAACwB,8BAAb,CAA4CR,KAA5C,EAAmDC,QAAnD,EAA6DQ,IAA7D;AAAA,kFAAkE,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AACpEJ,wBAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AADoE;AAAA,+BAE9DzB,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BF,GAAG,CAACG,IAAJ,CAASC,GAApC,EAAyCC,GAAzC,CAA6C;AAC3Cb,0BAAAA,WAAW,EAAEA,WAD8B;AAE3CF,0BAAAA,KAAK,EAAEA,KAFoC;AAG3CG,0BAAAA,SAAS,EAAEA,SAHgC;AAI3CC,0BAAAA,QAAQ,EAAEA,QAJiC;AAK3CY,0BAAAA,SAAS,EAAEX,MALgC;AAM3CS,0BAAAA,GAAG,EAAEJ,GAAG,CAACG,IAAJ,CAASC;AAN6B,yBAA7C,EAQJL,IARI,CAQC,YAAM;AACT;AACH,yBAVK,EAUHQ,KAVG,CAUG,UAAAC,KAAK,EAAI;AACdZ,0BAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACA,gCAAMA,KAAN;AACH,yBAbK,CAF8D;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAlE;;AAAA;AAAA;AAAA;AAAA,iBAgBHD,KAhBG,CAgBG,UAAAC,KAAK,EAAI;AACdZ,cAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACxB,OAAlB;AACA,oBAAMwB,KAAN;AACH,aAnBK,CAFqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfnB,eAAe;AAAA;AAAA;AAAA,GAArB;AAwBP,OAAO,IAAMoB,eAAe;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBC,YAAAA,QADqB,GACV,IAAIjC,QAAQ,CAACkC,IAAT,CAAcC,kBAAlB,EADU;AAAA;AAAA,mBAErBtC,YAAY,CAACuC,eAAb,CAA6BH,QAA7B,EAAuCX,IAAvC,CAA4C,SAASe,KAAT,CAAgBC,MAAhB,EAAwB;AACtE,kBAAMZ,IAAI,GAAGY,MAAM,CAACZ,IAApB;AAEA5B,cAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BC,IAAI,CAACC,GAAhC,EAAqCY,GAArC,GAA2CjB,IAA3C,CAAgD,UAAAC,GAAG,EAAI;AACnD,oBAAGA,GAAG,CAACiB,MAAP,EAAc;AACV;AACH,iBAFD,MAGI;AACA,yBAAO1C,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BC,IAAI,CAACC,GAAhC,EAAqCC,GAArC,CAAyC;AAC5Cb,oBAAAA,WAAW,EAAEW,IAAI,CAACX,WAD0B;AAE5CF,oBAAAA,KAAK,EAAEa,IAAI,CAACb,KAFgC;AAG5CgB,oBAAAA,SAAS,EAAEH,IAAI,CAACe,WAAL,IAAoB,EAHa;AAI5Cd,oBAAAA,GAAG,EAAED,IAAI,CAACC,GAJkC;AAK5Ce,oBAAAA,iBAAiB,EAAE,IALyB;AAM5C1B,oBAAAA,SAAS,EAAG,EANgC;AAO5CC,oBAAAA,QAAQ,EAAG;AAPiC,mBAAzC,CAAP;AASH;AAEJ,eAhBD;AAiBH,aApBK,EAoBHa,KApBG,CAoBG,UAAUC,KAAV,EAAiB;AACtBZ,cAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACxB,OAAlB;AACA,oBAAMwB,KAAN;AACH,aAvBK,CAFqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfC,eAAe;AAAA;AAAA;AAAA,GAArB;AA6BP,OAAO,IAAMW,MAAM,GAAG,SAATA,MAAS,SAAc;AAAA,MAAZzC,MAAY,UAAZA,MAAY;AAChCA,EAAAA,MAAM,CAAC,UAAD,EAAa,EAAb,CAAN,CADgC,CACR;;AACxB,SAAOL,YAAY,CAAC+C,OAAb,EAAP;AACH,CAHM;AAKP,OAAO,SAASC,cAAT,CAAwBC,CAAxB,UAA8C;AAAA,MAAlBjC,KAAkB,UAAlBA,KAAkB;AAAA,MAAXC,QAAW,UAAXA,QAAW;AACjD,SAAOjB,YAAY,CAACkD,0BAAb,CAAwClC,KAAxC,EAA+CC,QAA/C,CAAP;AACH;AAED,OAAO,SAASkC,mBAAT,SAAuC;AAAA,MAAT9C,MAAS,UAATA,MAAS;AAC1C,SAAOJ,EAAE,CAAC0B,UAAH,CAAc,UAAd,EAA0ByB,UAA1B,CAAqC,UAAAC,QAAQ,EAAI;AACpD,QAAIC,MAAM,GAAG,EAAb;AACAD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAAjD,IAAI,EAAI;AACrBgD,MAAAA,MAAM,CAACE,IAAP,CAAYlD,IAAI,CAACmD,IAAL,EAAZ;AACH,KAFD;AAGApD,IAAAA,MAAM,CAAC,qBAAD,EAAwBiD,MAAxB,CAAN;AACH,GANM,CAAP;AAOH;AAED,OAAO,SAASI,eAAT,iBAAuD;AAAA,MAA7BrD,MAA6B,UAA7BA,MAA6B;AAAA,MAAnByB,GAAmB,UAAnBA,GAAmB;AAAA,MAAd6B,WAAc,UAAdA,WAAc;;AAC1D,MAAI7B,GAAJ,EAAS;AACL,WAAO7B,EAAE,CAAC0B,UAAH,CAAc,MAAd,EAAsBC,GAAtB,CAA0BE,GAA1B,EAA+BY,GAA/B,GAAqCjB,IAArC,CAA0C,UAACmC,IAAD,EAAU;AACvDtC,MAAAA,OAAO,CAACC,GAAR,CAAYqC,IAAI,CAACH,IAAL,EAAZ;;AACA,UAAIG,IAAI,CAACH,IAAL,OAAgB,CAACE,WAAD,IAAgBA,WAAW,CAACE,MAAZ,IAAsB,CAAtD,CAAJ,EAA8D;AAC1DxD,QAAAA,MAAM,CAAC,UAAD,EAAauD,IAAI,CAACH,IAAL,GAAYJ,QAAzB,CAAN;AACH;AACJ,KALM,CAAP;AAMH,GAPD,MAOO,CACH;AACH;AACJ;AAED,OAAO,SAASS,gBAAT,CAA0Bb,CAA1B,UAAkD;AAAA,MAApBnB,GAAoB,UAApBA,GAAoB;AAAA,MAAfiC,YAAe,UAAfA,YAAe;AACrD;AACA;AAEA,MAAIC,UAAU,GAAG;AACbX,IAAAA,QAAQ,EAAEU,YADG;AAEbE,IAAAA,SAAS,EAAE/D,MAAM,GAAGgE,IAAT,EAFE;AAGbpC,IAAAA,GAAG,EAAEA;AAHQ,GAAjB;AAKA,SAAO7B,EAAE,CAAC0B,UAAH,CAAc,MAAd,EAAsBC,GAAtB,CAA0BE,GAA1B,EAA+BC,GAA/B,CAAmCiC,UAAnC,CAAP;AACH,C,CAED;;AACA,OAAO,SAASG,iBAAT,CAA2BlB,CAA3B,UAAmD;AAAA,MAApBnB,GAAoB,UAApBA,GAAoB;AAAA,MAAfiC,YAAe,UAAfA,YAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AAEAzC,EAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYwC,YAAZ;AAEH","sourcesContent":["import {firebaseAuth, db} from '../config/firebaseConfig';\nimport moment from \"moment\";\nimport firebase from \"firebase\";\n\nexport const updateCart = ({\n                               commit\n                           }, {item, quantity, isAdd}) => {\n    // TODO: Call service\n    commit('UPDATE_CART', {item, quantity, isAdd});\n    if (isAdd) {\n        let message_obj = {\n            message: `Add ${item.title} to cart successfully`,\n            messageClass: \"success\",\n            autoClose: true\n        }\n        commit('ADD_MESSAGE', message_obj);\n    }\n}\n\nexport const removeItemInCart = ({commit}, {item}) => {\n    commit('REMOVE_CART_ITEM', {item});\n}\n\nexport const registerByEmail = async ({commit}, {email, password, displayName, firstName, lastName, telNum}) => {\n    console.log(commit);\n    await firebaseAuth.createUserWithEmailAndPassword(email, password).then(async (res) => {\n        console.log(res);\n        await db.collection(\"users\").doc(res.user.uid).set({\n                displayName: displayName,\n                email: email,\n                firstName: firstName,\n                lastName: lastName,\n                telNumber: telNum,\n                uid: res.user.uid\n            }\n        ).then(() => {\n            return\n        }).catch(error => {\n            console.log(error);\n            throw error\n        })\n    }).catch(error => {\n        console.log(error.message);\n        throw error;\n    });\n}\n\nexport const loginWithGoogle = async() => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    await firebaseAuth.signInWithPopup(provider).then(function async (result) {\n        const user = result.user;\n\n        db.collection(\"users\").doc(user.uid).get().then(res => {\n            if(res.exists){\n                return\n            }\n            else{\n                return db.collection(\"users\").doc(user.uid).set({\n                    displayName: user.displayName,\n                    email: user.email,\n                    telNumber: user.phoneNumber || '',\n                    uid: user.uid,\n                    addedByGoogleAuth: true,\n                    firstName:  '',\n                    lastName:  '',\n                })\n            }\n\n        })\n    }).catch(function (error) {\n        console.log(error.message);\n        throw error;\n    });\n}\n\n\nexport const logout = ({commit}) => {\n    commit('SET_CART', []); // clear current cart\n    return firebaseAuth.signOut();\n}\n\nexport function loginWithEmail(_, {email, password}) {\n    return firebaseAuth.signInWithEmailAndPassword(email, password);\n}\n\nexport function listenToProductList({commit}) {\n    return db.collection(\"products\").onSnapshot(products => {\n        let toSend = []\n        products.forEach(item => {\n            toSend.push(item.data())\n        })\n        commit('UPDATE_PRODUCT_LIST', toSend);\n    })\n}\n\nexport function getShoppingCart({commit}, {uid, currentCart}) {\n    if (uid) {\n        return db.collection(\"cart\").doc(uid).get().then((cart) => {\n            console.log(cart.data());\n            if (cart.data() && (!currentCart || currentCart.length == 0)) {\n                commit('SET_CART', cart.data().products);\n            }\n        });\n    } else {\n        // console.log(\"User has not logged in\");\n    }\n}\n\nexport function saveShoppingCart(_, {uid, cartItemList}) {\n    // console.log(\"ACTIONS saveShoppingCart\");\n    // console.log(\"CART DATA\", cartItemList);\n\n    let saveObject = {\n        products: cartItemList,\n        timestamp: moment().unix(),\n        uid: uid\n    }\n    return db.collection('cart').doc(uid).set(saveObject);\n}\n\n// Needs Some Thinking\nexport function saveToTransaction(_, {uid, cartItemList}) {\n    // let newTransactionKey = moment().unix();\n    // db.collection('transactions').doc(uid).collection()\n    //\n    // let newTransactionKey = ref.child(\"transactions\").push().key;\n    // var newTransaction = {}\n    // newTransaction['/transactions/' + uid + '/' + newTransactionKey] = cartItemList;\n    // return ref.update(newTransaction);\n\n    console.log(uid);\n    console.log(cartItemList);\n\n}\n"]}]}