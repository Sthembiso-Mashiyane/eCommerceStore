{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js??ref--13-0!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/modules/auth.js","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/modules/auth.js","mtime":1587546461340},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGIsIGZpcmViYXNlQXV0aCB9IGZyb20gIi4uLy4uL2NvbmZpZy9maXJlYmFzZUNvbmZpZyI7CnZhciBzdGF0ZSA9IHsKICBpc0xvZ2dlZEluOiBmaXJlYmFzZUF1dGguY3VycmVudFVzZXIgIT0gbnVsbCwKICB1c2VyOiBmaXJlYmFzZUF1dGguY3VycmVudFVzZXIsCiAgdXNlckxvYWRpbmc6IGZhbHNlCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgJ0FVVEhfU1RBVFVTX0NIQU5HRSc6IGZ1bmN0aW9uIEFVVEhfU1RBVFVTX0NIQU5HRShzdGF0ZSkgewogICAgc3RhdGUuaXNMb2dnZWRJbiA9IGZpcmViYXNlQXV0aC5jdXJyZW50VXNlciAhPSBudWxsOwogICAgc3RhdGUudXNlciA9IGZpcmViYXNlQXV0aC5jdXJyZW50VXNlcjsKICB9LAogICdFRElUX1VTRVJfU1RBVEUnOiBmdW5jdGlvbiBFRElUX1VTRVJfU1RBVEUoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgc3RhdGUudXNlckxvYWRpbmcgPSBmYWxzZTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGdldFVzZXI6IGZ1bmN0aW9uIGdldFVzZXIoX3JlZiwgdWlkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICBzdGF0ZS51c2VyTG9hZGluZyA9IHRydWU7CiAgICByZXR1cm4gZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModWlkKS5vblNuYXBzaG90KGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgIHZhciB0b1NlbmQgPSB1c2VyLmRhdGEoKTsKICAgICAgY29uc29sZS5sb2codG9TZW5kKTsKICAgICAgY29tbWl0KCdFRElUX1VTRVJfU1RBVEUnLCB0b1NlbmQpOwogICAgfSk7CiAgfSwKICB1cGRhdGVVc2VyOiBmdW5jdGlvbiB1cGRhdGVVc2VyKF9yZWYyLCB1c2VyT2JqZWN0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgY29uc29sZS5sb2codXNlck9iamVjdCk7CiAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh1c2VyT2JqZWN0LnVpZCkudXBkYXRlKHsKICAgICAgZGlzcGxheU5hbWU6IHVzZXJPYmplY3QuZGlzcGxheU5hbWUsCiAgICAgIGZpcnN0TmFtZTogdXNlck9iamVjdC5maXJzdE5hbWUsCiAgICAgIGxhc3ROYW1lOiB1c2VyT2JqZWN0Lmxhc3ROYW1lLAogICAgICB0ZWxOdW1iZXI6IHVzZXJPYmplY3QudGVsTnVtYmVyCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgIGNvbnNvbGUubG9nKHIpOwogICAgICBjb21taXQoJ0VESVRfVVNFUl9TVEFURScsIHIpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHRocm93IGVycm9yOwogICAgfSk7CiAgfSwKICBlZGl0VXNlclN0YXRlOiBmdW5jdGlvbiBlZGl0VXNlclN0YXRlKF9yZWYzLCBvYmopIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQoJ0VESVRfVVNFUl9TVEFURScsIG9iaik7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaXNMb2dnZWRJbjsKICB9LAogIGN1cnJlbnRVc2VyOiBmdW5jdGlvbiBjdXJyZW50VXNlcihzdGF0ZSkgewogICAgaWYgKHN0YXRlICYmIHN0YXRlLnVzZXIpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBlbWFpbDogc3RhdGUudXNlci5lbWFpbCwKICAgICAgICBlbWFpbFZlcmlmaWVkOiBzdGF0ZS51c2VyLmVtYWlsVmVyaWZpZWQsCiAgICAgICAgdWlkOiBzdGF0ZS51c2VyLnVpZAogICAgICB9IHx8ICcnOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQogIH0sCiAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgfSwKICBpc1VzZXJMb2FkaW5nOiBmdW5jdGlvbiBpc1VzZXJMb2FkaW5nKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlckxvYWRpbmc7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/stores/modules/auth.js"],"names":["db","firebaseAuth","state","isLoggedIn","currentUser","user","userLoading","mutations","actions","getUser","uid","commit","collection","doc","onSnapshot","toSend","data","console","log","updateUser","userObject","update","displayName","firstName","lastName","telNumber","then","r","catch","error","editUserState","obj","getters","email","emailVerified","isUserLoading"],"mappings":"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","sourcesContent":["import {db, firebaseAuth} from '../../config/firebaseConfig';\n\nconst state = {\n    isLoggedIn: firebaseAuth.currentUser != null,\n    user: firebaseAuth.currentUser,\n    userLoading: false\n}\n\nconst mutations = {\n    'AUTH_STATUS_CHANGE'(state) {\n        state.isLoggedIn = firebaseAuth.currentUser != null;\n        state.user = firebaseAuth.currentUser;\n    },\n    'EDIT_USER_STATE'(state, user) {\n        state.user = user;\n        state.userLoading = false;\n    }\n}\n\nconst actions = {\n    getUser({commit}, uid) {\n        state.userLoading = true\n        return db.collection(\"users\").doc(uid).onSnapshot(user => {\n            const toSend = user.data();\n            console.log(toSend);\n            commit('EDIT_USER_STATE', toSend);\n        })\n    },\n    updateUser({commit}, userObject) {\n        console.log(userObject);\n        db.collection('users').doc(userObject.uid).update({\n            displayName: userObject.displayName,\n            firstName: userObject.firstName,\n            lastName: userObject.lastName,\n            telNumber: userObject.telNumber,\n        }).then(r => {\n            console.log(r);\n            commit('EDIT_USER_STATE', r);\n        }).catch(error => {\n            throw error\n        })\n    },\n    editUserState({commit}, obj) {\n        commit('EDIT_USER_STATE', obj);\n    }\n}\n\nconst getters = {\n    isLoggedIn: (state) => {\n        return state.isLoggedIn;\n    },\n    currentUser: (state) => {\n        if (state && state.user) {\n            return {\n                email: state.user.email,\n                emailVerified: state.user.emailVerified,\n                uid: state.user.uid,\n            } || ''\n        } else {\n            return {};\n        }\n    },\n    user: (state) => {\n        return state.user;\n    },\n    isUserLoading: (state) => {\n        return state.userLoading;\n    }\n}\n\nexport default {\n    state,\n    mutations,\n    actions,\n    getters\n}\n"]}]}