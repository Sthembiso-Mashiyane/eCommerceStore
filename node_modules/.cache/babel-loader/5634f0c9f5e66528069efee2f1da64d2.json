{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/components/settings/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/src/components/settings/UserProfile.vue","mtime":1587643303414},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sthembisomashiyane/WebstormProjects/vuejs-firebase-shopping-cart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3N0aGVtYmlzb21hc2hpeWFuZS9XZWJzdG9ybVByb2plY3RzL3Z1ZWpzLWZpcmViYXNlLXNob3BwaW5nLWNhcnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyByZXF1aXJlZCwgbWF4TGVuZ3RoLCBtaW5MZW5ndGgsIGVtYWlsIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJzsKaW1wb3J0IEdyaWRMb2FkZXIgZnJvbSAndnVlLXNwaW5uZXIvc3JjL0dyaWRMb2FkZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkZXJDb2xvcjogIiM1Y2I4NWMiLAogICAgICBsb2FkZXJTaXplOiAiNTBweCIsCiAgICAgIGlzTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB2YWxpZGF0aW9uczogewogICAgdXNlcjogewogICAgICBmaXJzdE5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgbGFzdE5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgdGVsTnVtYmVyOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDEwKSwKICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCgxMCkKICAgICAgfSwKICAgICAgZW1haWw6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgICAgZW1haWw6IGVtYWlsCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXIoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKS51aWQpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd1c2VyJywgJ2lzVXNlckxvYWRpbmcnXSkpLAogIGNvbXBvbmVudHM6IHsKICAgIEdyaWRMb2FkZXI6IEdyaWRMb2FkZXIKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydjbGVhck1lc3NhZ2UnLCAnYWRkTWVzc2FnZScsICd1cGRhdGVVc2VyJywgJ2dldFVzZXInXSksIHsKICAgIHVwZGF0ZVVzZXJMb2NhbDogZnVuY3Rpb24gdXBkYXRlVXNlckxvY2FsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnVzZXIpOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBkaXNwbGF5TmFtZTogdGhpcy51c2VyLmZpcnN0TmFtZSArICcgJyArIHRoaXMubGFzdE5hbWUsCiAgICAgICAgZmlyc3ROYW1lOiB0aGlzLnVzZXIuZmlyc3ROYW1lLAogICAgICAgIGxhc3ROYW1lOiB0aGlzLnVzZXIubGFzdE5hbWUsCiAgICAgICAgdGVsTnVtYmVyOiB0aGlzLnVzZXIudGVsTnVtYmVyLAogICAgICAgIHVpZDogdGhpcy51c2VyLnVpZAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgdGhpcy51cGRhdGVVc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmNsZWFyTWVzc2FnZSgpOwoKICAgICAgICB2YXIgbWVzc2FnZV9vYmogPSB7CiAgICAgICAgICBtZXNzYWdlOiAiRGV0YWlscyBVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJzdWNjZXNzIiwKICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZQogICAgICAgIH07CgogICAgICAgIF90aGlzLmFkZE1lc3NhZ2UobWVzc2FnZV9vYmopOyAvL3RoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnc3RvcmUnfSk7CgogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygncmVnaXN0ZXIgZXJyb3InLCBlcnJvcik7CiAgICAgICAgdmFyIG1lc3NhZ2Vfb2JqID0gewogICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgIG1lc3NhZ2VDbGFzczogImRhbmdlciIsCiAgICAgICAgICBhdXRvQ2xvc2U6IHRydWUKICAgICAgICB9OwoKICAgICAgICBfdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,SAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,KAAA,QAAA,0BAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,SADA;AAEA,MAAA,UAAA,EAAA,MAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,SAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAFA;AAGA,MAAA,SAAA,EAAA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,SAAA,EAAA,SAAA,CAAA,EAAA,CAAA;AAAA,QAAA,SAAA,EAAA,SAAA,CAAA,EAAA;AAAA,OAHA;AAIA,MAAA,KAAA,EAAA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA;AAAA;AAJA;AADA,GARA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,GAAA;AACA,GAlBA;AAmBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,MAAA,EAAA,eAAA,CAAA,CADA,CAnBA;AAsBA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAtBA;AAyBA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,YAAA,EAAA,YAAA,EAAA,SAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,WAAA,EAAA,KAAA,IAAA,CAAA,SAAA,GAAA,GAAA,GAAA,KAAA,QADA;AAEA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAFA;AAGA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QAHA;AAIA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAJA;AAKA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA;AALA,OAAA;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA;;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA,8BADA;AAEA,UAAA,YAAA,EAAA,SAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,KAAA,CAAA,UAAA,CAAA,WAAA,EAPA,CASA;;AACA,OAVA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA,KAAA,CAAA,OADA;AAEA,UAAA,YAAA,EAAA,QAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,KAAA,CAAA,UAAA,CAAA,WAAA;AACA,OAlBA,EAkBA,IAlBA,CAkBA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OApBA;AAqBA;AAlCA;AAzBA,CAAA","sourcesContent":["<template>\n    <div class=\"row\">\n        <div v-if=\"isUserLoading\" class=\"w-100\">\n            <grid-loader :loading=\"isUserLoading\" :color=\"loaderColor\"\n                         :size=\"loaderSize\"></grid-loader>\n        </div>\n        <div v-if=\"!isUserLoading\" class=\"col-md-6 offset-md-3 col-sm-10 offset-sm-1\">\n            <form id=\"register-form\" role=\"form\">\n                <h3 class=\"text-center\">User Details</h3>\n                <div class=\"form-group\">\n                    <label for=\"firstName\">First Name</label>\n                    <input type=\"text\" required=\"required\" name=\"email\" id=\"firstName\" class=\"form-control mb-3\"\n                           placeholder=\"First Name\"\n                           value=\"\"\n                           v-model=\"user.firstName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.firstName.required\">First Name is required</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.lastName.$error }\">\n                    <label for=\"lastName\">Last Name</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"lastName\" class=\"form-control mb-3\"\n                           placeholder=\"Last Name\"\n                           value=\"\"\n                           v-model=\"user.lastName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.lastName.required\">Last Name is required</div>\n\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.telNumber.$error }\">\n                    <label for=\"phoneNumber\">Phone Number</label>\n                    <input type=\"number\" required=\"required\" name=\"email\" id=\"phoneNumber\" class=\"form-control mb-3\"\n                           placeholder=\"Telephone Number\"\n                           value=\"\"\n                           v-model=\"user.telNumber\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.telNumber.required\">Phone Number is required</div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"email\" class=\"form-control mb-3\"\n                           placeholder=\"Email Address\"\n                           value=\"\"\n                           disabled=\"disabled\"\n                           v-model=\"user.email\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.required\">Email Address is required</div>\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.email\">Please enter a valid email address.</div>\n                </div>\n                <div class=\"form-group\">\n                    <button class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"updateUserLocal\"\n                            :disabled=\"isLoading\">\n                        <i v-if=\"isLoading\" class=\"fa fa-spinner fa-spin\"/>\n                        Update\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions, mapGetters} from 'vuex';\n    import {required, maxLength, minLength, email} from 'vuelidate/lib/validators';\n    import GridLoader from 'vue-spinner/src/GridLoader.vue';\n\n    export default {\n        data() {\n            return {\n                loaderColor: \"#5cb85c\",\n                loaderSize: \"50px\",\n                isLoading: false\n            }\n        },\n        validations: {\n            user: {\n                firstName: {required},\n                lastName: {required},\n                telNumber: {required, maxLength: maxLength(10), minLength: minLength(10)},\n                email: {required, email},\n            }\n        },\n        created() {\n            this.getUser(JSON.parse(localStorage.getItem('user')).uid);\n        },\n        computed: {\n            ...mapGetters(['user', 'isUserLoading']),\n        },\n        components: {\n            GridLoader\n        },\n        methods: {\n            ...mapActions(['clearMessage', 'addMessage', 'updateUser', 'getUser']),\n            updateUserLocal() {\n                this.isLoading = true\n                console.log(this.user)\n                let data = {\n                    displayName: this.user.firstName +' ' + this.lastName,\n                    firstName: this.user.firstName,\n                    lastName: this.user.lastName,\n                    telNumber: this.user.telNumber,\n                    uid: this.user.uid\n                }\n                console.log(data);\n                this.updateUser(data).then(() => {\n                    this.clearMessage();\n                    let message_obj = {\n                        message: \"Details Updated Successfully\",\n                        messageClass: \"success\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n\n                    //this.$router.push({name: 'store'});\n                }).catch((error) => {\n                    // console.log('register error', error);\n                    let message_obj = {\n                        message: error.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                }).then(() => {\n                    this.isLoading = false\n                })\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/components/settings"}]}