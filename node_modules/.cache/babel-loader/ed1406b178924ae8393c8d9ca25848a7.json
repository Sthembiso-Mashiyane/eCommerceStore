{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/eslint-loader/index.js??ref--13-0!/Users/sthembisomashiyane/WebstormProjects/dripy/src/stores/actions.js","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/stores/actions.js","mtime":1588058499156},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/eslint-loader/index.js","mtime":1587899238895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zdGhlbWJpc29tYXNoaXlhbmUvV2Vic3Rvcm1Qcm9qZWN0cy9kcmlweS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgZmlyZWJhc2VBdXRoLCBkYiB9IGZyb20gIi4uL2NvbmZpZy9maXJlYmFzZUNvbmZpZyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IHZhciB1cGRhdGVDYXJ0ID0gZnVuY3Rpb24gdXBkYXRlQ2FydChfcmVmLCBfcmVmMikgewogIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICB2YXIgaXRlbSA9IF9yZWYyLml0ZW0sCiAgICAgIHF1YW50aXR5ID0gX3JlZjIucXVhbnRpdHksCiAgICAgIGlzQWRkID0gX3JlZjIuaXNBZGQ7CiAgLy8gVE9ETzogQ2FsbCBzZXJ2aWNlCiAgY29tbWl0KCdVUERBVEVfQ0FSVCcsIHsKICAgIGl0ZW06IGl0ZW0sCiAgICBxdWFudGl0eTogcXVhbnRpdHksCiAgICBpc0FkZDogaXNBZGQKICB9KTsKCiAgaWYgKGlzQWRkKSB7CiAgICB2YXIgbWVzc2FnZV9vYmogPSB7CiAgICAgIG1lc3NhZ2U6ICJBZGQgIi5jb25jYXQoaXRlbS50aXRsZSwgIiB0byBjYXJ0IHN1Y2Nlc3NmdWxseSIpLAogICAgICBtZXNzYWdlQ2xhc3M6ICJzdWNjZXNzIiwKICAgICAgYXV0b0Nsb3NlOiB0cnVlCiAgICB9OwogICAgY29tbWl0KCdBRERfTUVTU0FHRScsIG1lc3NhZ2Vfb2JqKTsKICB9Cn07CmV4cG9ydCB2YXIgcmVtb3ZlSXRlbUluQ2FydCA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW1JbkNhcnQoX3JlZjMsIF9yZWY0KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICB2YXIgaXRlbSA9IF9yZWY0Lml0ZW07CiAgY29tbWl0KCdSRU1PVkVfQ0FSVF9JVEVNJywgewogICAgaXRlbTogaXRlbQogIH0pOwp9OwpleHBvcnQgdmFyIHJlZ2lzdGVyQnlFbWFpbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmNSwgX3JlZjYpIHsKICAgIHZhciBjb21taXQsIGVtYWlsLCBwYXNzd29yZCwgZGlzcGxheU5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHRlbE51bTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgZW1haWwgPSBfcmVmNi5lbWFpbCwgcGFzc3dvcmQgPSBfcmVmNi5wYXNzd29yZCwgZGlzcGxheU5hbWUgPSBfcmVmNi5kaXNwbGF5TmFtZSwgZmlyc3ROYW1lID0gX3JlZjYuZmlyc3ROYW1lLCBsYXN0TmFtZSA9IF9yZWY2Lmxhc3ROYW1lLCB0ZWxOdW0gPSBfcmVmNi50ZWxOdW07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1pdCk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlQXV0aC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhyZXMudXNlci51aWQpLnNldCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsTnVtYmVyOiB0ZWxOdW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiByZXMudXNlci51aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBZG1pbjogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiByZWdpc3RlckJ5RW1haWwoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwpleHBvcnQgdmFyIGxvZ2luV2l0aEdvb2dsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgIHZhciBwcm92aWRlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlQXV0aC5zaWduSW5XaXRoUG9wdXAocHJvdmlkZXIpLnRoZW4oZnVuY3Rpb24gYXN5bmMocmVzdWx0KSB7CiAgICAgICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQudXNlcjsKICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VyLnVpZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmV4aXN0cykgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlci51aWQpLnNldCh7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgdGVsTnVtYmVyOiB1c2VyLnBob25lTnVtYmVyIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIHVpZDogdXNlci51aWQsCiAgICAgICAgICAgICAgICAgICAgYWRkZWRCeUdvb2dsZUF1dGg6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogJycKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBsb2dpbldpdGhHb29nbGUoKSB7CiAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7CmV4cG9ydCB2YXIgbG9nb3V0ID0gZnVuY3Rpb24gbG9nb3V0KF9yZWYxMCkgewogIHZhciBjb21taXQgPSBfcmVmMTAuY29tbWl0OwogIGNvbW1pdCgnU0VUX0NBUlQnLCBbXSk7IC8vIGNsZWFyIGN1cnJlbnQgY2FydAoKICByZXR1cm4gZmlyZWJhc2VBdXRoLnNpZ25PdXQoKTsKfTsKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luV2l0aEVtYWlsKF8sIF9yZWYxMSkgewogIHZhciBlbWFpbCA9IF9yZWYxMS5lbWFpbCwKICAgICAgcGFzc3dvcmQgPSBfcmVmMTEucGFzc3dvcmQ7CiAgcmV0dXJuIGZpcmViYXNlQXV0aC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwp9CmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5Ub1Byb2R1Y3RMaXN0KF9yZWYxMikgewogIHZhciBjb21taXQgPSBfcmVmMTIuY29tbWl0OwogIHJldHVybiBkYi5jb2xsZWN0aW9uKCJwcm9kdWN0cyIpLm9uU25hcHNob3QoZnVuY3Rpb24gKHByb2R1Y3RzKSB7CiAgICB2YXIgdG9TZW5kID0gW107CiAgICBwcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHRvU2VuZC5wdXNoKGl0ZW0uZGF0YSgpKTsKICAgIH0pOwogICAgY29tbWl0KCdVUERBVEVfUFJPRFVDVF9MSVNUJywgdG9TZW5kKTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0U2hvcHBpbmdDYXJ0KF9yZWYxMywgX3JlZjE0KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYxMy5jb21taXQ7CiAgdmFyIHVpZCA9IF9yZWYxNC51aWQsCiAgICAgIGN1cnJlbnRDYXJ0ID0gX3JlZjE0LmN1cnJlbnRDYXJ0OwoKICBpZiAodWlkKSB7CiAgICByZXR1cm4gZGIuY29sbGVjdGlvbigiY2FydCIpLmRvYyh1aWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGNhcnQpIHsKICAgICAgY29uc29sZS5sb2coY2FydC5kYXRhKCkpOwoKICAgICAgaWYgKGNhcnQuZGF0YSgpICYmICghY3VycmVudENhcnQgfHwgY3VycmVudENhcnQubGVuZ3RoID09IDApKSB7CiAgICAgICAgY29tbWl0KCdTRVRfQ0FSVCcsIGNhcnQuZGF0YSgpLnByb2R1Y3RzKTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygiVXNlciBoYXMgbm90IGxvZ2dlZCBpbiIpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gc2V0VXNlcihfcmVmMTUsIHVpZCkgewogIHZhciBjb21taXQgPSBfcmVmMTUuY29tbWl0OwoKICBpZiAodWlkKSB7CiAgICByZXR1cm4gZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModWlkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEoKSk7CgogICAgICBpZiAocmVzLmV4aXN0cykgewogICAgICAgIGNvbW1pdCgnRURJVF9VU0VSX1NUQVRFJywgcmVzLmRhdGEoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tbWl0KCdFRElUX1VTRVJfU1RBVEUnLCBudWxsKTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygiVXNlciBoYXMgbm90IGxvZ2dlZCBpbiIpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gc2F2ZVNob3BwaW5nQ2FydChfLCBfcmVmMTYpIHsKICB2YXIgdWlkID0gX3JlZjE2LnVpZCwKICAgICAgY2FydEl0ZW1MaXN0ID0gX3JlZjE2LmNhcnRJdGVtTGlzdDsKICAvLyBjb25zb2xlLmxvZygiQUNUSU9OUyBzYXZlU2hvcHBpbmdDYXJ0Iik7CiAgLy8gY29uc29sZS5sb2coIkNBUlQgREFUQSIsIGNhcnRJdGVtTGlzdCk7CiAgdmFyIHNhdmVPYmplY3QgPSB7CiAgICBwcm9kdWN0czogY2FydEl0ZW1MaXN0LAogICAgdGltZXN0YW1wOiBtb21lbnQoKS51bml4KCksCiAgICB1aWQ6IHVpZAogIH07CiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oJ2NhcnQnKS5kb2ModWlkKS5zZXQoc2F2ZU9iamVjdCk7Cn0gLy8gTmVlZHMgU29tZSBUaGlua2luZwoKZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb1RyYW5zYWN0aW9uKF8sIF9yZWYxNykgewogIHZhciB1aWQgPSBfcmVmMTcudWlkLAogICAgICBjYXJ0SXRlbUxpc3QgPSBfcmVmMTcuY2FydEl0ZW1MaXN0OwogIC8vIGxldCBuZXdUcmFuc2FjdGlvbktleSA9IG1vbWVudCgpLnVuaXgoKTsKICAvLyBkYi5jb2xsZWN0aW9uKCd0cmFuc2FjdGlvbnMnKS5kb2ModWlkKS5jb2xsZWN0aW9uKCkKICAvLwogIC8vIGxldCBuZXdUcmFuc2FjdGlvbktleSA9IHJlZi5jaGlsZCgidHJhbnNhY3Rpb25zIikucHVzaCgpLmtleTsKICAvLyB2YXIgbmV3VHJhbnNhY3Rpb24gPSB7fQogIC8vIG5ld1RyYW5zYWN0aW9uWycvdHJhbnNhY3Rpb25zLycgKyB1aWQgKyAnLycgKyBuZXdUcmFuc2FjdGlvbktleV0gPSBjYXJ0SXRlbUxpc3Q7CiAgLy8gcmV0dXJuIHJlZi51cGRhdGUobmV3VHJhbnNhY3Rpb24pOwogIGNvbnNvbGUubG9nKHVpZCk7CiAgY29uc29sZS5sb2coY2FydEl0ZW1MaXN0KTsKfQ=="},{"version":3,"sources":["/Users/sthembisomashiyane/WebstormProjects/dripy/src/stores/actions.js"],"names":["firebaseAuth","db","moment","firebase","updateCart","commit","item","quantity","isAdd","message_obj","message","title","messageClass","autoClose","removeItemInCart","registerByEmail","email","password","displayName","firstName","lastName","telNum","console","log","createUserWithEmailAndPassword","then","res","collection","doc","user","uid","set","telNumber","isAdmin","catch","error","loginWithGoogle","provider","auth","GoogleAuthProvider","signInWithPopup","async","result","get","exists","phoneNumber","addedByGoogleAuth","logout","signOut","loginWithEmail","_","signInWithEmailAndPassword","listenToProductList","onSnapshot","products","toSend","forEach","push","data","getShoppingCart","currentCart","cart","length","setUser","saveShoppingCart","cartItemList","saveObject","timestamp","unix","saveToTransaction"],"mappings":"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","sourcesContent":["import {firebaseAuth, db} from '../config/firebaseConfig';\nimport moment from \"moment\";\nimport firebase from \"firebase\";\n\nexport const updateCart = ({\n                               commit\n                           }, {item, quantity, isAdd}) => {\n    // TODO: Call service\n    commit('UPDATE_CART', {item, quantity, isAdd});\n    if (isAdd) {\n        let message_obj = {\n            message: `Add ${item.title} to cart successfully`,\n            messageClass: \"success\",\n            autoClose: true\n        }\n        commit('ADD_MESSAGE', message_obj);\n    }\n}\n\nexport const removeItemInCart = ({commit}, {item}) => {\n    commit('REMOVE_CART_ITEM', {item});\n}\n\nexport const registerByEmail = async ({commit}, {email, password, displayName, firstName, lastName, telNum}) => {\n    console.log(commit);\n    await firebaseAuth.createUserWithEmailAndPassword(email, password).then(async (res) => {\n        console.log(res);\n        await db.collection(\"users\").doc(res.user.uid).set({\n                displayName: displayName,\n                email: email,\n                firstName: firstName,\n                lastName: lastName,\n                telNumber: telNum,\n                uid: res.user.uid,\n                isAdmin: false\n            }\n        ).then(() => {\n            return\n        }).catch(error => {\n            console.log(error);\n            throw error\n        })\n    }).catch(error => {\n        console.log(error.message);\n        throw error;\n    });\n}\n\nexport const loginWithGoogle = async () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    await firebaseAuth.signInWithPopup(provider).then(function async(result) {\n        const user = result.user;\n\n        db.collection(\"users\").doc(user.uid).get().then(res => {\n            if (res.exists) {\n                return\n            } else {\n                return db.collection(\"users\").doc(user.uid).set({\n                    displayName: user.displayName,\n                    email: user.email,\n                    telNumber: user.phoneNumber || '',\n                    uid: user.uid,\n                    addedByGoogleAuth: true,\n                    firstName: '',\n                    lastName: '',\n                })\n            }\n\n        })\n    }).catch(function (error) {\n        console.log(error.message);\n        throw error;\n    });\n}\n\n\nexport const logout = ({commit}) => {\n    commit('SET_CART', []); // clear current cart\n    return firebaseAuth.signOut();\n}\n\nexport function loginWithEmail(_, {email, password}) {\n    return firebaseAuth.signInWithEmailAndPassword(email, password);\n}\n\nexport function listenToProductList({commit}) {\n    return db.collection(\"products\").onSnapshot(products => {\n        let toSend = []\n        products.forEach(item => {\n            toSend.push(item.data())\n        })\n        commit('UPDATE_PRODUCT_LIST', toSend);\n    })\n}\n\nexport function getShoppingCart({commit}, {uid, currentCart}) {\n    if (uid) {\n        return db.collection(\"cart\").doc(uid).get().then((cart) => {\n            console.log(cart.data());\n            if (cart.data() && (!currentCart || currentCart.length == 0)) {\n                commit('SET_CART', cart.data().products);\n            }\n        });\n    } else {\n        // console.log(\"User has not logged in\");\n    }\n}\n\nexport function setUser({commit}, uid) {\n    if (uid) {\n        return db.collection(\"users\").doc(uid).get().then((res) => {\n            console.log(res.data());\n            if (res.exists) {\n                commit('EDIT_USER_STATE', res.data());\n            } else {\n                commit('EDIT_USER_STATE', null);\n            }\n        });\n    } else {\n        // console.log(\"User has not logged in\");\n    }\n}\n\nexport function saveShoppingCart(_, {uid, cartItemList}) {\n    // console.log(\"ACTIONS saveShoppingCart\");\n    // console.log(\"CART DATA\", cartItemList);\n\n    let saveObject = {\n        products: cartItemList,\n        timestamp: moment().unix(),\n        uid: uid\n    }\n    return db.collection('cart').doc(uid).set(saveObject);\n}\n\n// Needs Some Thinking\nexport function saveToTransaction(_, {uid, cartItemList}) {\n    // let newTransactionKey = moment().unix();\n    // db.collection('transactions').doc(uid).collection()\n    //\n    // let newTransactionKey = ref.child(\"transactions\").push().key;\n    // var newTransaction = {}\n    // newTransaction['/transactions/' + uid + '/' + newTransactionKey] = cartItemList;\n    // return ref.update(newTransaction);\n\n    console.log(uid);\n    console.log(cartItemList);\n\n}\n"]}]}