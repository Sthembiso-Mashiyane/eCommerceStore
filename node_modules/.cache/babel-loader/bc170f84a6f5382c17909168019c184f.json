{"remainingRequest":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js!/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/src/components/settings/UserProfile.vue","mtime":1587899242305},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/babel-loader/lib/index.js","mtime":1587899237742},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/cache-loader/dist/cjs.js","mtime":1587899238127},{"path":"/Users/sthembisomashiyane/WebstormProjects/dripy/node_modules/vue-loader/lib/index.js","mtime":1587899242029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL3N0aGVtYmlzb21hc2hpeWFuZS9XZWJzdG9ybVByb2plY3RzL2RyaXB5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgcmVxdWlyZWQsIG1heExlbmd0aCwgbWluTGVuZ3RoLCBlbWFpbCB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7CmltcG9ydCBHcmlkTG9hZGVyIGZyb20gJ3Z1ZS1zcGlubmVyL3NyYy9HcmlkTG9hZGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGVyQ29sb3I6ICIjNWNiODVjIiwKICAgICAgbG9hZGVyU2l6ZTogIjUwcHgiLAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIHVzZXI6IHsKICAgICAgZmlyc3ROYW1lOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIGxhc3ROYW1lOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIHRlbE51bWJlcjogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCgxMCksCiAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMTApCiAgICAgIH0sCiAgICAgIGVtYWlsOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICAgIGVtYWlsOiBlbWFpbAogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkudWlkKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsndXNlcicsICdpc1VzZXJMb2FkaW5nJ10pKSwKICBjb21wb25lbnRzOiB7CiAgICBHcmlkTG9hZGVyOiBHcmlkTG9hZGVyCiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnY2xlYXJNZXNzYWdlJywgJ2FkZE1lc3NhZ2UnLCAndXBkYXRlVXNlcicsICdnZXRVc2VyJ10pLCB7CiAgICB1cGRhdGVVc2VyTG9jYWw6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJMb2NhbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2codGhpcy51c2VyKTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMudXNlci5maXJzdE5hbWUgKyAnICcgKyB0aGlzLmxhc3ROYW1lLAogICAgICAgIGZpcnN0TmFtZTogdGhpcy51c2VyLmZpcnN0TmFtZSwKICAgICAgICBsYXN0TmFtZTogdGhpcy51c2VyLmxhc3ROYW1lLAogICAgICAgIHRlbE51bWJlcjogdGhpcy51c2VyLnRlbE51bWJlciwKICAgICAgICB1aWQ6IHRoaXMudXNlci51aWQKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMudXBkYXRlVXNlcihkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jbGVhck1lc3NhZ2UoKTsKCiAgICAgICAgdmFyIG1lc3NhZ2Vfb2JqID0gewogICAgICAgICAgbWVzc2FnZTogIkRldGFpbHMgVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgbWVzc2FnZUNsYXNzOiAic3VjY2VzcyIsCiAgICAgICAgICBhdXRvQ2xvc2U6IHRydWUKICAgICAgICB9OwoKICAgICAgICBfdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2Vfb2JqKTsgLy90aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ3N0b3JlJ30pOwoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlZ2lzdGVyIGVycm9yJywgZXJyb3IpOwogICAgICAgIHZhciBtZXNzYWdlX29iaiA9IHsKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICJkYW5nZXIiLAogICAgICAgICAgYXV0b0Nsb3NlOiB0cnVlCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMuYWRkTWVzc2FnZShtZXNzYWdlX29iaik7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,SAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,KAAA,QAAA,0BAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,SADA;AAEA,MAAA,UAAA,EAAA,MAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,SAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAFA;AAGA,MAAA,SAAA,EAAA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,SAAA,EAAA,SAAA,CAAA,EAAA,CAAA;AAAA,QAAA,SAAA,EAAA,SAAA,CAAA,EAAA;AAAA,OAHA;AAIA,MAAA,KAAA,EAAA;AAAA,QAAA,QAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA;AAAA;AAJA;AADA,GARA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,GAAA;AACA,GAlBA;AAmBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,MAAA,EAAA,eAAA,CAAA,CADA,CAnBA;AAsBA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAtBA;AAyBA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,YAAA,EAAA,YAAA,EAAA,SAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,WAAA,EAAA,KAAA,IAAA,CAAA,SAAA,GAAA,GAAA,GAAA,KAAA,QADA;AAEA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAFA;AAGA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QAHA;AAIA,QAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAJA;AAKA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA;AALA,OAAA;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA;;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA,8BADA;AAEA,UAAA,YAAA,EAAA,SAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,KAAA,CAAA,UAAA,CAAA,WAAA,EAPA,CASA;;AACA,OAVA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA;AACA,YAAA,WAAA,GAAA;AACA,UAAA,OAAA,EAAA,KAAA,CAAA,OADA;AAEA,UAAA,YAAA,EAAA,QAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,KAAA,CAAA,UAAA,CAAA,WAAA;AACA,OAlBA,EAkBA,IAlBA,CAkBA,YAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,OApBA;AAqBA;AAlCA;AAzBA,CAAA","sourcesContent":["<template>\n    <div class=\"row\">\n        <div v-if=\"isUserLoading\" class=\"w-100\">\n            <grid-loader :loading=\"isUserLoading\" :color=\"loaderColor\"\n                         :size=\"loaderSize\"></grid-loader>\n        </div>\n        <div v-if=\"!isUserLoading\" class=\"col-md-6 offset-md-3 col-sm-10 offset-sm-1\">\n            <form id=\"register-form\" role=\"form\">\n                <h3 class=\"text-center\">User Details</h3>\n                <div class=\"form-group\">\n                    <label for=\"firstName\">First Name</label>\n                    <input type=\"text\" required=\"required\" name=\"email\" id=\"firstName\" class=\"form-control mb-3\"\n                           placeholder=\"First Name\"\n                           value=\"\"\n                           v-model=\"user.firstName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.firstName.required\">First Name is required</div>\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.lastName.$error }\">\n                    <label for=\"lastName\">Last Name</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"lastName\" class=\"form-control mb-3\"\n                           placeholder=\"Last Name\"\n                           value=\"\"\n                           v-model=\"user.lastName\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.lastName.required\">Last Name is required</div>\n\n                </div>\n                <div class=\"form-group\" :class=\"{ 'form-group--error': $v.user.telNumber.$error }\">\n                    <label for=\"phoneNumber\">Phone Number</label>\n                    <input type=\"number\" required=\"required\" name=\"email\" id=\"phoneNumber\" class=\"form-control mb-3\"\n                           placeholder=\"Telephone Number\"\n                           value=\"\"\n                           v-model=\"user.telNumber\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.telNumber.required\">Phone Number is required</div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"email\">Email</label>\n                    <input type=\"email\" required=\"required\" name=\"email\" id=\"email\" class=\"form-control mb-3\"\n                           placeholder=\"Email Address\"\n                           value=\"\"\n                           disabled=\"disabled\"\n                           v-model=\"user.email\">\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.required\">Email Address is required</div>\n                    <div class=\"error text-danger\" v-if=\"!$v.user.email.email\">Please enter a valid email address.</div>\n                </div>\n                <div class=\"form-group\">\n                    <button class=\"btn btn-success\" style=\"width: 100%\" @click.prevent=\"updateUserLocal\"\n                            :disabled=\"isLoading\">\n                        <i v-if=\"isLoading\" class=\"fa fa-spinner fa-spin\"/>\n                        Update\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions, mapGetters} from 'vuex';\n    import {required, maxLength, minLength, email} from 'vuelidate/lib/validators';\n    import GridLoader from 'vue-spinner/src/GridLoader.vue';\n\n    export default {\n        data() {\n            return {\n                loaderColor: \"#5cb85c\",\n                loaderSize: \"50px\",\n                isLoading: false\n            }\n        },\n        validations: {\n            user: {\n                firstName: {required},\n                lastName: {required},\n                telNumber: {required, maxLength: maxLength(10), minLength: minLength(10)},\n                email: {required, email},\n            }\n        },\n        created() {\n            this.getUser(JSON.parse(localStorage.getItem('user')).uid);\n        },\n        computed: {\n            ...mapGetters(['user', 'isUserLoading']),\n        },\n        components: {\n            GridLoader\n        },\n        methods: {\n            ...mapActions(['clearMessage', 'addMessage', 'updateUser', 'getUser']),\n            updateUserLocal() {\n                this.isLoading = true\n                console.log(this.user)\n                let data = {\n                    displayName: this.user.firstName +' ' + this.lastName,\n                    firstName: this.user.firstName,\n                    lastName: this.user.lastName,\n                    telNumber: this.user.telNumber,\n                    uid: this.user.uid\n                }\n                console.log(data);\n                this.updateUser(data).then(() => {\n                    this.clearMessage();\n                    let message_obj = {\n                        message: \"Details Updated Successfully\",\n                        messageClass: \"success\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n\n                    //this.$router.push({name: 'store'});\n                }).catch((error) => {\n                    // console.log('register error', error);\n                    let message_obj = {\n                        message: error.message,\n                        messageClass: \"danger\",\n                        autoClose: true\n                    }\n                    this.addMessage(message_obj);\n                }).then(() => {\n                    this.isLoading = false\n                })\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/components/settings"}]}